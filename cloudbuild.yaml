apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: anzogwebapitry1
  name: anzogwebapitry1
  namespace: default
spec:
  replicas: 3
  selector:
    matchLabels:
      app: anzogwebapitry1
  strategy:
    rollingUpdate:
      maxSurge: 25%
      maxUnavailable: 25%
    type: RollingUpdate
  template:
    metadata:
      labels:
        app: anzogwebapitry1
    spec:
      containers:
        - image: gcr.io/ag-kixsandbox-6/github.com/arekgoral/anz-test
          imagePullPolicy: IfNotPresent
          name: anz-test-1
---
apiVersion: autoscaling/v2beta1
kind: HorizontalPodAutoscaler
metadata:
  labels:
    app: anzogwebapitry1
  name: anzogwebapitry1-hpa-4uh6
  namespace: default
spec:
  maxReplicas: 5
  metrics:
    - resource:
        name: cpu
        targetAverageUtilization: 80
      type: Resource
  minReplicas: 1
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: anzogwebapitry1
---
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: "2020-03-13T05:51:31Z"
  labels:
    app: anzogwebapitry1
    app.kubernetes.io/managed-by: gcp-cloud-build-deploy
    app.kubernetes.io/name: anzogwebapitry1
    app.kubernetes.io/version: 5f48670890ca31c3256e0100652a8e188b63dd7a
  name: anzogwebapitry1-lb
  namespace: default
  resourceVersion: "62240"
  selfLink: /api/v1/namespaces/default/services/anzogwebapitry1-lb
  uid: b049e2a3-64ee-11ea-84a3-42010a800045
spec:
  clusterIP: 10.93.16.45
  externalTrafficPolicy: Cluster
  ports:
  - nodePort: 31953
    port: 80
    protocol: TCP
    targetPort: 8080
  selector:
    app: anzogwebapitry1
  sessionAffinity: None
  type: LoadBalancer
status:
  loadBalancer:
    ingress:
    - ip: 35.192.170.106
